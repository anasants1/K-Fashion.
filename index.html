<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>K‑Fashion</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #6a0dad; /* roxo vibrante */
      color: white;
    }
    header {
      padding: 20px;
      text-align: center;
    }
    #search-bar {
      margin-top: 10px;
    }
    #search-bar input[type="text"] {
      padding: 8px;
      width: 200px;
      border: none;
      border-radius: 4px;
    }
    #search-bar button {
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      background-color: #4b0082; /* roxo mais escuro */
      color: white;
      cursor: pointer;
    }
    #products {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 20px;
    }
    .product {
      background-color: #7d3cbf; /* variação de roxo para destacar */
      border-radius: 8px;
      margin: 10px;
      padding: 15px;
      width: 220px;
      box-sizing: border-box;
      text-align: center;
    }
    .product img {
      max-width: 100%;
      height: auto;
      border-radius: 4px;
    }
    .product h3 {
      margin: 10px 0 5px 0;
      font-size: 18px;
    }
    .product p.price {
      margin: 5px 0;
      font-size: 16px;
      font-weight: bold;
    }
    .product p.sizes {
      margin: 5px 0;
      font-size: 14px;
    }
    .product button {
      padding: 8px 12px;
      border: none;
      border-radius: 4px;
      background-color: #4b0082;
      color: white;
      cursor: pointer;
    }
    #cart {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #4b0082;
      padding: 10px 15px;
      border-radius: 4px;
    }
    #cart span {
      font-weight: bold;
    }
    /* estilo modal simples para mostrar carrinho */
    #cart-modal {
      display: none; /* oculto por padrão */
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #7d3cbf;
      color: white;
      padding: 20px;
      border-radius: 8px;
      width: 320px;
      max-height: 500px;
      overflow-y: auto;
      z-index: 1000;
    }
    #cart-modal h2 {
      margin-top: 0;
    }
    #cart-modal button.close-cart {
      margin-top: 10px;
      padding: 6px 10px;
      background-color: #4b0082;
      border: none;
      color: white;
      cursor: pointer;
    }
    /* sobreposição de fundo quando modal visível */
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }
  </style>
</head>
<body>

  <header>
    <h1>K‑Fashion</h1>
    <div id="search-bar">
      <input type="text" id="searchInput" placeholder="Pesquisar peças...">
      <button onclick="searchProducts()">Pesquisar</button>
    </div>
  </header>

  <div id="cart">
    Carrinho: <span id="cart-count">0</span> item(s)
    <button onclick="openCart()">Ver Carrinho</button>
  </div>

  <div id="products">
    <!-- os produtos vão aparecer aqui via JavaScript -->
  </div>

  <!-- Modal do carrinho -->
  <div id="modal-overlay"></div>
  <div id="cart-modal">
    <h2>Seu Carrinho</h2>
    <div id="cart-items">
      <!-- itens adicionados aparecem aqui -->
    </div>
    <button class="close-cart" onclick="closeCart()">Fechar</button>
  </div>

  <script>
    // lista de produtos com tamanhos
    const productsData = [
      { id: 1, name: "Vestido Floral", price: 90, sizes: ["P","M","G"], image: "https://images.pexels.com/photos/428340/pexels-photo-428340.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 2, name: "Blusa Casual", price: 45, sizes: ["P","M","G","GG"], image: "https://images.pexels.com/photos/128986/pexels-photo-128986.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 3, name: "Saia Midi", price: 65, sizes: ["P","M","G"], image: "https://images.pexels.com/photos/2983464/pexels-photo-2983464.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 4, name: "Calça Jeans", price: 80, sizes: ["M","G","GG"], image: "https://images.pexels.com/photos/428338/pexels-photo-428338.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 5, name: "Regata Básica", price: 25, sizes: ["P","M","G","GG"], image: "https://images.pexels.com/photos/356378/pexels-photo-356378.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 6, name: "Macacão", price: 95, sizes: ["M","G"], image: "https://images.pexels.com/photos/2418856/pexels-photo-2418856.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 7, name: "Kimono", price: 70, sizes: ["P","M","G","GG"], image: "https://images.pexels.com/photos/374822/pexels-photo-374822.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 8, name: "Jaqueta", price: 99, sizes: ["M","G","GG"], image: "https://images.pexels.com/photos/428341/pexels-photo-428341.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 9, name: "Shorts Denim", price: 50, sizes: ["P","M","G"], image: "https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 10, name: "Camisa Estampada", price: 60, sizes: ["P","M","G","GG"], image: "https://images.pexels.com/photos/428336/pexels-photo-428336.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 11, name: "Blazer Feminino", price: 100, sizes: ["M","G","GG"], image: "https://images.pexels.com/photos/631164/pexels-photo-631164.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 12, name: "Top Cropped", price: 30, sizes: ["P","M","G"], image: "https://images.pexels.com/photos/376974/pexels-photo-376974.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 13, name: "Vestido Longo", price: 90, sizes: ["P","M","G"], image: "https://images.pexels.com/photos/615704/pexels-photo-615704.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 14, name: "Saída de Praia", price: 55, sizes: ["P","M","G","GG"], image: "https://images.pexels.com/photos/4226227/pexels-photo-4226227.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" },
      { id: 15, name: "Body Rendado", price: 40, sizes: ["P","M","G"], image: "https://images.pexels.com/photos/2923156/pexels-photo-2923156.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=350" }
    ];

    let cart = [];

    function renderProducts(list) {
      const container = document.getElementById("products");
      container.innerHTML = "";
      list.forEach(prod => {
        const div = document.createElement("div");
        div.className = "product";
        div.innerHTML = `
          <img src="${prod.image}" alt="${prod.name}">
          <h3>${prod.name}</h3>
          <p class="price">R$ ${prod.price.toFixed(2)}</p>
          <p class="sizes">Tamanhos: ${prod.sizes.join(", ")}</p>
          <button onclick="addToCart(${prod.id})">Adicionar ao Carrinho</button>
        `;
        container.appendChild(div);
      });
    }

    function searchProducts() {
      const term = document.getElementById("searchInput").value.toLowerCase();
      const filtered = productsData.filter(p => p.name.toLowerCase().includes(term));
      renderProducts(filtered);
    }

    function addToCart(id) {
      const prod = productsData.find(p => p.id === id);
      if (!prod) return;
      cart.push(prod);
      updateCartCount();
      alert(prod.name + " foi adicionado ao carrinho!");
    }

    function updateCartCount() {
      document.getElementById("cart-count").innerText = cart.length;
    }

    function openCart() {
      const overlay = document.getElementById("modal-overlay");
      const modal = document.getElementById("cart-modal");
      const itemsDiv = document.getElementById("cart-items");
      itemsDiv.innerHTML = "";
      if (cart.length === 0) {
        itemsDiv.innerHTML = "<p>Seu carrinho está vazio.</p>";
      } else {
        cart.forEach((item, index) => {
          const div = document.createElement("div");
          div.style.marginBottom = "10px";
          div.innerHTML = `
            <strong>${item.name}</strong> — R$ ${item.price.toFixed(2)}<br>
            <button onclick="removeFromCart(${index})">Remover</button>
          `;
          itemsDiv.appendChild(div);
        });
      }
      overlay.style.display = "block";
      modal.style.display = "block";
    }

    function closeCart() {
      document.getElementById("modal-overlay").style.display = "none";
      document.getElementById("cart-modal").style.display = "none";
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCartCount();
      openCart(); // reabre pra mostrar atualizado
    }

    // inicializa mostrando todos os produtos
    window.onload = function() {
      renderProducts(productsData);
    };
  </script>

</body>
</html>
